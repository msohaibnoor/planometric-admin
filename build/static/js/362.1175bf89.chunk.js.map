{"version":3,"file":"static/js/362.1175bf89.chunk.js","mappings":"kUAyCkBA,EAAAA,EAAAA,KAAO,SAACC,GAAD,MAAY,CACjCC,MAAO,CACH,oCAAqC,CACjCC,MAAOF,EAAMG,QAAQC,KAAKC,YAGlCC,OAAQ,CACJC,MAAO,OACPC,OAAQ,OACRC,SAAU,c,qBCgElB,EAzGc,WACV,IAAMC,GAAQC,EAAAA,EAAAA,KAAY,SAACC,GAAD,OAAWA,EAAMC,KAAKH,SAChD,GAAwBI,EAAAA,EAAAA,UAAS,MAAjC,eAAOC,EAAP,KAAaC,EAAb,KACA,GAAkCF,EAAAA,EAAAA,WAAS,GAA3C,eAAOG,EAAP,KAAkBC,EAAlB,KASMC,EAAU,mCAAG,2FACVJ,GAAqC,QAAzB,OAAJA,QAAI,IAAJA,OAAA,EAAAA,EAAMK,KAAKC,MAAM,KAAK,IADpB,uBAEXH,GAAa,GAFF,2CAMLI,EAAW,IAAIC,UACZC,OAAO,OAAQT,GAPb,SAQYU,IAAAA,KAAA,UAAcC,EAAAA,EAAd,mBAAwCJ,EAAU,CACrEK,QAAS,CACLC,cAAe,UAAYlB,KAVxB,gBAQHmB,EARG,EAQHA,KAKRC,EAAAA,GAAAA,QAAcD,EAAKA,KAAKE,SACxBf,EAAQ,MAdG,kDAgBXgB,QAAQC,IAAR,MAhBW,0DAAH,qDAoBVC,EAAc,mCAAG,uBAAAC,EAAA,0FAEQV,IAAAA,IAAA,UAAaC,EAAAA,EAAb,sEAA0F,CAC7GU,aAAc,cACdT,QAAS,CACLC,cAAc,UAAD,OAAYlB,MALlB,OAET2B,EAFS,OAQfL,QAAQC,IAAII,EAASR,MACfS,EAAO,IAAIC,KAAK,CAACF,EAASR,MAAO,CAAEW,KAAM,6BAGzCC,EAAMC,OAAOC,IAAIC,gBAAgBN,IAGjCH,EAAIU,SAASC,cAAc,MAC/BC,MAAMC,QAAU,OAClBb,EAAEc,KAAOR,EACTN,EAAEe,SAAW,wBACbL,SAASM,KAAKC,YAAYjB,GAC1BA,EAAEkB,QAGFX,OAAOC,IAAIW,gBAAgBb,GAvBZ,kDAyBfT,QAAQuB,MAAM,mCAAd,MAzBe,0DAAH,qDA6BpB,OACI,UAACC,EAAA,GAAD,CAAMR,QAAQ,OAAOS,eAAgB,SAAUC,WAAY,SAAUC,IAAK,OAA1E,WAEI,6BACI,uDACA,SAAC,IAAD,CACIC,GAAI,CAAEC,UAAW,QACjBC,GAAG,gBACH1C,KAAK,gBACL2C,MAAM,gBACNvB,KAAK,OAMLe,MAAOtC,EACP+C,aAAa,aACbC,SAAS,EACTC,SA5EG,SAACC,GAAO,IAAD,IACgC,QAAlD,UAAAA,EAAEC,cAAcC,MAAM,UAAtB,mBAA0BjD,YAA1B,eAAgCC,MAAM,KAAK,MAG/CL,EAAQmD,EAAEC,cAAcC,MAAM,IAC9BnD,GAAa,KAwEDoD,WAAW,4BAGf,0BACI,SAACC,EAAA,EAAD,CACIC,QAAQ,YACRC,KAAK,QAILC,QAASvD,EACTyC,GAAI,CAAEC,UAAW,QAPrB,0BAaR,SAACU,EAAA,EAAD,CAAQC,QAAQ,YAAYC,KAAK,QAAQC,QAASxC,EAAlD","sources":["views/pages/grasshopper/components/FileInput.js","views/pages/grasshopper/index.js"],"sourcesContent":["import { useRef, useState } from 'react';\r\nimport { useTheme, styled } from '@mui/material/styles';\r\n\r\nimport { Box, ButtonBase, TextField } from '@mui/material';\r\n\r\nconst FileInput = ({ label, onChange, error }) => {\r\n    const ref = useRef();\r\n    const theme = useTheme();\r\n    const classes = useStyles();\r\n    const [attachment, setAttachment] = useState(null);\r\n\r\n    const handleChange = (event) => {\r\n        const files = Array.from(event.target.files);\r\n        const [file] = files;\r\n        setAttachment(file);\r\n        if (!!onChange) onChange({ target: { value: file } });\r\n    };\r\n\r\n    return (\r\n        <Box position=\"relative\" height={98} color={!!error ? theme.palette.error.main : theme.palette.background.paper} borderBottom={4}>\r\n            <Box position=\"absolute\" top={0} bottom={0} left={0} right={0} mx={2}>\r\n                <TextField\r\n                    variant=\"standard\"\r\n                    className={classes.field}\r\n                    InputProps={{ disableUnderline: true }}\r\n                    margin=\"normal\"\r\n                    fullWidth\r\n                    // disabled\r\n                    label={label}\r\n                    value={attachment?.name || ''}\r\n                    error={!!error}\r\n                    helperText={error?.message || ' '}\r\n                />\r\n            </Box>\r\n            <ButtonBase className={classes.button} component=\"label\" onKeyDown={(e) => e.keyCode === 32 && ref.current?.click()}>\r\n                <input ref={ref} type=\"file\" accept=\"image/*\" hidden onChange={handleChange} />\r\n            </ButtonBase>\r\n        </Box>\r\n    );\r\n};\r\n\r\nconst useStyles = styled((theme) => ({\r\n    field: {\r\n        '& .MuiFormLabel-root.Mui-disabled': {\r\n            color: theme.palette.text.secondary\r\n        }\r\n    },\r\n    button: {\r\n        width: '100%',\r\n        height: '100%',\r\n        overflow: 'hidden'\r\n    }\r\n}));\r\n\r\nexport default FileInput;\r\n","import React from 'react';\r\nimport axios from 'axios';\r\nimport { API_URL } from '../../../utils/axios';\r\nimport { Button, Dialog, DialogActions, DialogContent, DialogTitle, Slide, TextField, MenuItem, Input, Grid } from '@mui/material';\r\nimport FileInput from './components/FileInput';\r\nimport { useState } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { toast } from 'react-toastify';\r\n\r\nconst index = () => {\r\n    const token = useSelector((state) => state.auth.token);\r\n    const [file, setFile] = useState(null);\r\n    const [fileError, setFileError] = useState(false);\r\n    const handleFile = (e) => {\r\n        if (e.currentTarget.files[0]?.name?.split('.')[1] !== 'gh') {\r\n            return;\r\n        }\r\n        setFile(e.currentTarget.files[0]);\r\n        setFileError(false);\r\n    };\r\n\r\n    const fileUpload = async () => {\r\n        if (!file || file?.name.split('.')[1] !== 'gh') {\r\n            setFileError(true);\r\n            return;\r\n        }\r\n        try {\r\n            const formData = new FormData();\r\n            formData.append('file', file);\r\n            const { data } = await axios.post(`${API_URL}admin/gh-upload`, formData, {\r\n                headers: {\r\n                    Authorization: 'Bearer ' + token\r\n                }\r\n            });\r\n            toast.success(data.data.message);\r\n            setFile(null);\r\n        } catch (err) {\r\n            console.log(err);\r\n        }\r\n    };\r\n\r\n    const handleDownload = async () => {\r\n        try {\r\n            const response = await axios.get(`${API_URL}admin/files/download-grasshopper-script?fileToDownload=grasshopper`, {\r\n                responseType: 'arraybuffer',\r\n                headers: {\r\n                    Authorization: `Bearer ${token}` // Replace YOUR_BEARER_TOKEN with the actual token\r\n                }\r\n            });\r\n            console.log(response.data);\r\n            const blob = new Blob([response.data], { type: 'application/octet-stream' });\r\n\r\n            // Create a temporary URL for the blob\r\n            const url = window.URL.createObjectURL(blob);\r\n\r\n            // Create a hidden anchor tag and trigger the download\r\n            const a = document.createElement('a');\r\n            a.style.display = 'none';\r\n            a.href = url;\r\n            a.download = 'Grasshopper-Script.gh'; // Replace 'file.3dm' with the desired filename\r\n            document.body.appendChild(a);\r\n            a.click();\r\n\r\n            // Clean up the temporary URL\r\n            window.URL.revokeObjectURL(url);\r\n        } catch (error) {\r\n            console.error('Error downloading the .3dm file:', error);\r\n            // Handle the error, e.g., show an error message to the user\r\n        }\r\n    };\r\n    return (\r\n        <Grid display=\"flex\" justifyContent={'center'} alignItems={'center'} gap={'30px'}>\r\n            {/* <FileInput label={'Select file'} onChange={handleFile} error={fileError} /> */}\r\n            <form>\r\n                <h1>Update Grasshopper script</h1>\r\n                <TextField\r\n                    sx={{ marginTop: '25px' }}\r\n                    id=\"walletAddress\"\r\n                    name=\"walletAddress\"\r\n                    label=\"Select script\"\r\n                    type=\"file\"\r\n                    // value={formik.values.walletAddress}\r\n                    // onChange={formik.handleChange}\r\n                    // error={formik.touched.walletAddress && Boolean(formik.errors.walletAddress)}\r\n                    // helperText={formik.touched.walletAddress && formik.errors.walletAddress}\r\n                    // fullWidth\r\n                    error={fileError}\r\n                    autoComplete=\"given-name\"\r\n                    focused={true}\r\n                    onChange={handleFile}\r\n                    helperText=\"only .gh files allowed\"\r\n                />\r\n\r\n                <div>\r\n                    <Button\r\n                        variant=\"contained\"\r\n                        size=\"small\"\r\n                        // onClick={() => {\r\n                        //     formik.handleSubmit();\r\n                        // }}\r\n                        onClick={fileUpload}\r\n                        sx={{ marginTop: '25px' }}\r\n                    >\r\n                        Update\r\n                    </Button>\r\n                </div>\r\n            </form>\r\n            <Button variant=\"contained\" size=\"large\" onClick={handleDownload}>\r\n                Download Current File\r\n            </Button>\r\n        </Grid>\r\n    );\r\n};\r\n\r\nexport default index;\r\n"],"names":["styled","theme","field","color","palette","text","secondary","button","width","height","overflow","token","useSelector","state","auth","useState","file","setFile","fileError","setFileError","fileUpload","name","split","formData","FormData","append","axios","API_URL","headers","Authorization","data","toast","message","console","log","handleDownload","a","responseType","response","blob","Blob","type","url","window","URL","createObjectURL","document","createElement","style","display","href","download","body","appendChild","click","revokeObjectURL","error","Grid","justifyContent","alignItems","gap","sx","marginTop","id","label","autoComplete","focused","onChange","e","currentTarget","files","helperText","Button","variant","size","onClick"],"sourceRoot":""}