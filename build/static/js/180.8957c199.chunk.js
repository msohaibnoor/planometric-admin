"use strict";(self.webpackChunkberry_material_react=self.webpackChunkberry_material_react||[]).push([[180],{81711:function(e,t,n){n.r(t),n.d(t,{default:function(){return U}});var i=n(1413),a=n(93433),r=n(15861),s=n(29439),l=n(87757),c=n.n(l),o=n(72791),u=n(16030),d=n(16871),g=n(23735),m=n(91923),h=(n(763),n(26098)),p=n.n(h);function x(e){return p()(e).format("0.0 b")}var f=n(61889),v=n(20890),y=n(24518),j=n(56689),Z=n(23786),b=n(64554),C=n(23060),A=n(90493),P=n(45484),S=n(57064),k=n(49900),F=n(46112),w=n(13400),I=n(62711),N=(n(1607),n(85066)),R=n(75985),L=(n(5462),n(28182)),T=n(18267),q=n(745),z=n(87425),D=n(76408);var W=n.p+"static/media/image-upload.54137b053c15fea11a0932f712ddb0b6.svg",B=n(92506),E=n(81724),V=n(45196),_=n(77584),G=n(80184),Q=function(e){var t=e.formik,n=e.fileArray,i=e.index;(0,u.I0)();return(0,G.jsx)(G.Fragment,{children:(0,G.jsxs)("div",{style:{display:"flex",marginRight:"10px"},children:[(0,G.jsx)(v.Z,{style:{marginTop:"12px",marginRight:"5px"},children:"Quantity : "}),(0,G.jsx)(j.Z,{type:"number",className:"quantityField",id:"outlined-select-currency-native",value:n[i].quantity,onChange:function(e){var a;a=e.target.value,n[i].quantity=a,t.setFieldValue("images",n)}})]})})},U=function(){var e=(0,u.I0)(),t=(0,d.s0)(),n=(0,u.v9)((function(e){return e.marketPlace.brandArray})),l=(0,u.v9)((function(e){return e.marketPlace.categoryArray})),h=(0,u.v9)((function(e){return e.marketPlace.subCategoryArray})),p=(0,o.useState)(0),U=(0,s.Z)(p,2),J=U[0],O=U[1],K=(0,o.useState)(0),M=(0,s.Z)(K,2),H=M[0],X=M[1],Y=(0,o.useState)(0),$=(0,s.Z)(Y,2),ee=$[0],te=$[1],ne=(0,o.useState)(!1),ie=(0,s.Z)(ne,2),ae=ie[0],re=ie[1],se=function(){ce.resetForm(),re(!1),me([]),O(0),X(0),te(0)},le=E.Ry().shape({images:E.nK()}),ce=(0,B.TA)({initialValues:{images:[]},enableReinitialize:!0,validationSchema:le,onSubmit:function(){var n=(0,r.Z)(c().mark((function n(i){var a,r,s,l,o;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:i.images.length>0&&i.images.map((function(e){a="jpg"==e.image.name.split(".").pop()||"jpeg"==e.image.name.split(".").pop()||"png"==e.image.name.split(".").pop()||"gif"==e.image.name.split(".").pop()})),r=i.images.length>0&&i.images.map((function(e){return e.image})),s=0,l=!0,o=i.images.length>0&&i.images.map((function(e){if(e.quantity<1)R.Am.error("NFT Quantity must be greater than zero"),l=!1;else{if(!(e.quantity<1))return s=parseInt(s)+parseInt(e.quantity),parseInt(e.quantity);R.Am.error("NFT Quantity must be greater than zero"),l=!1}})),l&&(a?(re(!0),e((0,_.Bt)({assets:r,quantityArray:o,brandId:J,categoryId:H,subCategoryId:ee,navigate:t,setLoader:re,handleClose:se}))):R.Am.error("Upload the files with these extensions: PNG, JPG, GIF"));case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()});console.log(ce.values);var oe=ce.values.images.length>0,ue=(0,o.useState)([]),de=(0,s.Z)(ue,2),ge=de[0],me=de[1],he=(0,o.useCallback)((function(e){var t=(0,a.Z)(ge);e.map(function(){var e=(0,r.Z)(c().mark((function e(n){var i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i={image:n,quantity:1},t=[].concat((0,a.Z)(t),[i]);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),ce.setFieldValue("images",t),me(t)}),[ce.setFieldValue,ge]),pe=(0,T.uI)({accept:".jpeg,.png,.jpg,.gif",onDrop:he}),xe=pe.getRootProps,fe=pe.getInputProps,ve=pe.isDragActive,ye=pe.isDragReject,je=pe.isDragAccept;return(0,o.useEffect)((function(){e((0,V.B)())}),[]),(0,o.useEffect)((function(){e((0,V.I1)({brandId:J}))}),[J]),(0,o.useEffect)((function(){e((0,V.hs)({categoryId:H}))}),[H]),(0,o.useEffect)((function(){window.scrollTo(0,0)}),[]),(0,G.jsx)(G.Fragment,{children:(0,G.jsx)(g.Z,{title:(0,G.jsxs)(f.ZP,{container:!0,spacing:m.dv,children:[(0,G.jsx)(f.ZP,{item:!0,xs:6,children:(0,G.jsx)(v.Z,{variant:"h3",sx:{fontWeight:500,color:"cadetblue",paddingTop:"10px"},children:"Add NFT"})}),(0,G.jsx)(f.ZP,{item:!0,xs:6,style:{textAlign:"end"},children:(0,G.jsx)(y.Z,{variant:"contained",size:"small",onClick:function(){return t(-1)},sx:{marginRight:"10px"},children:"Back"})})]}),content:!1,children:(0,G.jsxs)("form",{autoComplete:"off",onSubmit:ce.handleSubmit,children:[(0,G.jsxs)(f.ZP,{container:!0,justifyContent:"center",style:{padding:"20px"},children:[(0,G.jsx)(f.ZP,{item:!0,xs:12,sm:4,pt:4,pr:4,children:(0,G.jsxs)(j.Z,{className:"brandSelectField",id:"outlined-select-budget",select:!0,fullWidth:!0,label:"Select Brand",value:J,onChange:function(e){O(e.target.value)},children:[(0,G.jsx)(Z.Z,{value:0,children:"Choose Brand"}),n&&n.brandList&&n.brandList.map((function(e,t){return(0,G.jsx)(Z.Z,{value:e.value,children:e.label},t)}))]})}),(0,G.jsx)(f.ZP,{item:!0,xs:12,sm:4,pt:4,pr:4,children:(0,G.jsxs)(j.Z,{className:"brandSelectField",id:"outlined-select-budget",select:!0,fullWidth:!0,label:"Select Category",value:H,onChange:function(e){X(e.target.value)},children:[(0,G.jsx)(Z.Z,{value:0,children:"Choose Category"}),l&&l.categoryList&&l.categoryList.map((function(e,t){return(0,G.jsx)(Z.Z,{value:e.value,children:e.label},t)}))]})}),(0,G.jsx)(f.ZP,{item:!0,xs:12,sm:4,pt:4,pr:4,children:(0,G.jsxs)(j.Z,{className:"selectField",id:"outlined-select-budget",select:!0,fullWidth:!0,label:"Select Subcategory",value:ee,onChange:function(e){te(e.target.value)},children:[(0,G.jsx)(Z.Z,{value:0,children:"Choose Subcategory"}),h&&h.subCategoriesList&&h.subCategoriesList.map((function(e,t){return(0,G.jsx)(Z.Z,{value:e.value,children:e.label},t)}))]})}),(0,G.jsx)(f.ZP,{item:!0,lg:12,mt:3,children:(0,G.jsxs)("div",{className:(0,L.Z)("dropZoneContainer","xyz"),children:[(0,G.jsxs)("div",(0,i.Z)((0,i.Z)({className:(0,L.Z)("dropZone",{isDragActive:ve,isDragAccept:je,isDragReject:ye})},xe()),{},{children:[(0,G.jsx)("input",(0,i.Z)({},fe())),(0,G.jsxs)(f.ZP,{container:!0,direction:"column",children:[(0,G.jsx)(b.Z,{textAlign:"center",component:"img",alt:"Select File",src:W,sx:{height:60}}),(0,G.jsx)(b.Z,{mt:4,textAlign:"center",sx:{ml:{md:0}},children:(0,G.jsxs)(v.Z,{variant:"subtitle",sx:{color:"grey",textAlign:"center"},children:["Drop your image or\xa0",(0,G.jsx)(C.Z,{underline:"always",children:"browse"}),".\xa0"]})})]})]})),(0,G.jsx)(A.Z,{disablePadding:!0,className:(0,L.Z)({list:oe}),children:(0,G.jsx)(z.M,{children:ce.values.images&&ce.values.images.map((function(e,t){return(0,G.jsxs)(P.ZP,{component:D.E.div,className:"listItem",children:[(0,G.jsx)(S.Z,{children:(0,G.jsx)("img",{src:URL.createObjectURL(e.image),width:40,height:40,style:{borderRadius:"50%",marginRight:"8px"}})}),(0,G.jsx)(k.Z,{primary:e.image.name?e.image.name:"",secondary:x(e.image.size)?x(e.image.size):"",primaryTypographyProps:{variant:"subtitle2"}}),(0,G.jsxs)(F.Z,{style:{display:"flex"},children:[(0,G.jsx)(Q,{formik:ce,fileArray:ce.values.images,index:t}),(0,G.jsx)(w.Z,{color:"error",edge:"end",size:"small",onClick:function(){return function(e,t){var n=(0,a.Z)(ce.values.images);n.splice(t,1),me(n),ce.setFieldValue("images",n)}(e.image,t)},children:(0,G.jsx)(I.JO,{icon:N.Z,width:28,height:28})})]})]},e.image.name)}))})})]})})]}),(0,G.jsx)(f.ZP,{textAlign:"center",padding:2,children:(0,G.jsx)(y.Z,{variant:"contained",size:"medium",onClick:function(){ae||ce.handleSubmit()},children:ae?(0,G.jsx)(q.iT,{ariaLabel:"loading-indicator",height:20,width:20,strokeWidth:5,strokeWidthSecondary:1,color:"blue",secondaryColor:"white"}):"Add NFT"})})]})})})}}}]);
//# sourceMappingURL=180.8957c199.chunk.js.map