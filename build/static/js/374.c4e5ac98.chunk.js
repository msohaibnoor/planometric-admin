(self.webpackChunkberry_material_react=self.webpackChunkberry_material_react||[]).push([[374],{44260:function(e,n,t){"use strict";var a=t(57621),r=t(64554),s=t(61889),i=t(20890),l=t(56689),d=t(23786),o=t(13967),c=t(72791),u=t(91923),p=t(80184),m=(0,c.forwardRef)((function(e){var n=e.title,t=e.role,c=e.value,m=e.setValue,h=e.options,y=e.marginTop,x=(0,o.Z)();return(0,p.jsx)(a.Z,{sx:{marginBottom:x.spacing(u.dv),border:"1px solid",borderColor:x.palette.primary[200]+75,background:x.palette.background.default,marginTop:null!==y&&void 0!==y?y:"0px"},children:(0,p.jsx)(r.Z,{sx:{p:2,pl:2},children:(0,p.jsxs)(s.ZP,{container:!0,alignItems:"center",justifyContent:"space-between",spacing:u.dv,children:[(0,p.jsx)(s.ZP,{item:!0,children:(0,p.jsx)(i.Z,{variant:"h3",sx:{fontWeight:500,color:"cadetblue"},children:n})}),void 0!==c&&(0,p.jsx)(s.ZP,{item:!0,children:h&&("teacher"==t||"super_admin"==t)&&(0,p.jsx)(l.Z,{id:"standard-select-currency",select:!0,value:c,onChange:function(e){return m(e.target.value)},sx:{width:"150px",height:"44px"},children:h.map((function(e){return(0,p.jsx)(d.Z,{value:e.value,children:e.label},e.value)}))})})]})})})}));n.Z=m},72932:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return de}});var a=t(29439),r=t(72791),s=t(16030),i=t(91923),l=t(13967),d=t(39281),o=t(79836),c=t(56890),u=t(35855),p=t(53994),m=t(53382),h=t(23060),y=t(90240),x=t(13400),g=t(80911),b=t(23786),f=t(88471),Z=t(52601),v=t(1413),j=t(55931),C=t(5574),T=t(35201),k=t(39157),w=t(51691),A=t(20890),M=t(97123),N=t(24518),B=t(45196),S=t(80184),z=(0,r.forwardRef)((function(e,n){return(0,S.jsx)(j.Z,(0,v.Z)({direction:"up",ref:n},e))}));function E(e){var n=e.deleteOpen,t=e.setDeleteOpen,a=e.brandId,r=e.page,i=e.limit,d=e.search,o=(0,l.Z)(),c=(0,s.I0)(),u=function(){t(!1)};return(0,S.jsx)(S.Fragment,{children:(0,S.jsxs)(C.Z,{open:n,TransitionComponent:z,keepMounted:!0,onClose:u,"aria-labelledby":"alert-dialog-slide-title1","aria-describedby":"alert-dialog-slide-description1",children:[(0,S.jsx)(T.Z,{id:"alert-dialog-slide-title1",children:"Delete Brand"}),(0,S.jsx)(k.Z,{children:(0,S.jsx)(w.Z,{id:"alert-dialog-slide-description1",children:(0,S.jsx)(A.Z,{variant:"body2",component:"span",children:"Are you sure you want to delete this Brand?"})})}),(0,S.jsxs)(M.Z,{sx:{pr:2.5},children:[(0,S.jsx)(N.Z,{sx:{color:o.palette.error.dark,borderColor:o.palette.error.dark},onClick:u,color:"secondary",children:"No"}),(0,S.jsx)(N.Z,{variant:"contained",size:"small",onClick:function(){c((0,B.eo)({id:a,handleClose:u,page:r,limit:i,search:d}))},children:"Yes"})]})]})})}var R=t(70034),O=t(52898),I=t(72426),F=t.n(I),L=t(16871),_=function(e){var n=e.brandsList,t=e.page,s=e.limit,i=e.search,v=(e.setOpen,e.setBrandName),j=e.setAddUpdateOpen,C=e.brandId,T=e.setBrandId,k=(0,l.Z)(),w=((0,L.s0)(),(0,r.useState)(!1)),A=(0,a.Z)(w,2),M=A[0],N=A[1],B=(0,r.useState)(!1),z=(0,a.Z)(B,2),I=z[0],_=z[1],D=(0,r.useState)(null),P=(0,a.Z)(D,2),U=P[0],Y=P[1],V=(0,r.useState)(null),H=(0,a.Z)(V,2),K=H[0],W=H[1],q=function(){Y(null)};return(0,S.jsxs)(d.Z,{children:[(0,S.jsx)(E,{deleteOpen:M,setDeleteOpen:N,brandId:C,page:t,limit:s,search:i}),(0,S.jsxs)(o.Z,{children:[(0,S.jsx)(c.Z,{children:(0,S.jsxs)(u.Z,{children:[(0,S.jsx)(p.Z,{align:"center",children:"Name"}),(0,S.jsx)(p.Z,{align:"center",children:"Contract Address"}),(0,S.jsx)(p.Z,{align:"center",children:"Total NFT'S"}),(0,S.jsx)(p.Z,{align:"center",children:"Created / Updated"}),(0,S.jsx)(p.Z,{align:"center",children:"Actions"})]})}),(0,S.jsx)(m.Z,{children:n&&n.brands&&n.brands.length>0&&n.brands.map((function(e,n){var t,a;return(0,S.jsx)(S.Fragment,{children:(0,S.jsxs)(u.Z,{children:[(0,S.jsx)(p.Z,{align:"center",sx:{padding:"0px"},children:e.name}),(0,S.jsxs)(p.Z,{align:"center",sx:{padding:"0px"},children:[(0,S.jsx)(h.Z,{target:"_blank",href:"https://polygonscan.com/address/".concat(e.contractAddress),underline:"none",children:e.contractAddress.slice(0,5)+"..."+e.contractAddress.slice(37,42)}),(0,S.jsx)(y.Z,{placement:"top",title:I?"Copied":"Copy contract address",children:(0,S.jsx)(x.Z,{onClick:function(){return n=e.contractAddress,navigator.clipboard.writeText(n),void _(!0);var n},onMouseLeave:function(){return _(!1)},sx:{marginLeft:"5px"},children:(0,S.jsx)(R.Z,{sx:{cursor:"pointer",width:"0.8em",height:"0.8em"}})})})]}),(0,S.jsx)(p.Z,{align:"center",sx:{padding:"0px"},children:e.Nfts&&e.Nfts.length}),(0,S.jsxs)(p.Z,{align:"center",children:[F()(e.createdAt).format("DD-MM-YY")," / ",F()(e.updatedAt).format("DD-MM-YY")]}),(0,S.jsxs)(p.Z,{align:"center",sx:{padding:"0px"},children:[(0,S.jsx)(x.Z,{children:(0,S.jsx)(O.Z,{fontSize:"large",color:"black","aria-controls":"menu-friend-card","aria-haspopup":"true",sx:{opacity:1.6},onClick:function(n){return function(e,n){W(n),Y(e.currentTarget)}(n,e)}})}),(0,S.jsxs)(g.Z,{id:"menu-simple-card",anchorEl:U,keepMounted:!0,open:Boolean(U),onClose:q,variant:"selectedMenu",anchorOrigin:{vertical:"left",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"right"},sx:{padding:"0px 8px"},className:"customMenuClass",children:[(0,S.jsx)(b.Z,{onClick:function(){v(K.name),T(K.id),j(!0),q()},disabled:!!(null!==K&&void 0!==K&&K.Nfts&&(null===K||void 0===K||null===(t=K.Nfts)||void 0===t?void 0:t.length)>0),children:(0,S.jsxs)("div",{className:"actionItem",children:[(0,S.jsx)(x.Z,{color:"primary","aria-label":"Edit",size:"large",sx:{padding:"0px"},children:(0,S.jsx)(f.Z,{sx:{fontSize:"1.5rem"}})}),(0,S.jsx)("p",{children:"Edit"})]})}),(0,S.jsx)(b.Z,{onClick:function(){N(!0),T(K.id),q()},disabled:!!(null!==K&&void 0!==K&&K.Nfts&&(null===K||void 0===K||null===(a=K.Nfts)||void 0===a?void 0:a.length)>0),children:(0,S.jsxs)("div",{className:"actionItem",children:[(0,S.jsx)(x.Z,{color:"primary",sx:{color:k.palette.orange.dark,borderColor:k.palette.orange.main,"&:hover ":{background:k.palette.orange.light},padding:"0px"},size:"large",children:(0,S.jsx)(Z.Z,{sx:{fontSize:"1.5rem"}})}),(0,S.jsx)("p",{children:"Delete"})]})})]})]})]})})}))})]})]})},D=t(61889),P=t(28029),U=t(63466),Y=t(57246),V=t(58956),H=t(88910),K=t(15861),W=t(87757),q=t.n(W),J=t(81102),X=t(60723),G=t(92506),Q=t(81724),$=t(745),ee=t(56689),ne=JSON.parse('{"Mt":[{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_mintingContract","type":"address"}],"name":"MintingCreated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"role","type":"bytes32"},{"indexed":true,"internalType":"bytes32","name":"previousAdminRole","type":"bytes32"},{"indexed":true,"internalType":"bytes32","name":"newAdminRole","type":"bytes32"}],"name":"RoleAdminChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"role","type":"bytes32"},{"indexed":true,"internalType":"address","name":"account","type":"address"},{"indexed":true,"internalType":"address","name":"sender","type":"address"}],"name":"RoleGranted","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"role","type":"bytes32"},{"indexed":true,"internalType":"address","name":"account","type":"address"},{"indexed":true,"internalType":"address","name":"sender","type":"address"}],"name":"RoleRevoked","type":"event"},{"inputs":[],"name":"DEFAULT_ADMIN_ROLE","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"DEPLOYER_ROLE","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"}],"name":"getRoleAdmin","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"},{"internalType":"address","name":"account","type":"address"}],"name":"grantRole","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"},{"internalType":"address","name":"account","type":"address"}],"name":"hasRole","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"","type":"string"}],"name":"nftContractAddress","outputs":[{"internalType":"contract KwikTrustNFT","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"},{"internalType":"address","name":"account","type":"address"}],"name":"renounceRole","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"},{"internalType":"address","name":"account","type":"address"}],"name":"revokeRole","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes4","name":"interfaceId","type":"bytes4"}],"name":"supportsInterface","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"__KwikTrustFactory_init","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"_name","type":"string"},{"internalType":"string","name":"_symbol","type":"string"},{"internalType":"address","name":"_validatorRole","type":"address"}],"name":"deployMintingContract","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"_contractName","type":"string"}],"name":"getContractAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"}]}'),te=JSON.parse('{"L":"0xF04E46d652CbB5168603a7e4740a18a2df35019b"}'),ae=t(75985),re=(t(5462),(0,r.forwardRef)((function(e,n){return(0,S.jsx)(j.Z,(0,v.Z)({direction:"up",ref:n},e))})));function se(e){var n=e.addUpdateOpen,t=e.setAddUpdateOpen,i=e.page,d=e.limit,o=e.search,c=e.brandName,u=e.setBrandName,p=e.brandId,m=(0,l.Z)(),h=(0,s.I0)(),y=(0,s.v9)((function(e){return e.auth.walletAddress})),x=(0,r.useState)(!1),g=(0,a.Z)(x,2),b=g[0],f=g[1],Z=Q.Ry({name:Q.Z_().required("Brand Name is required!").max(50,"Brand Name can not exceed 50 characters").matches(/^[-a-zA-Z0-9-()]+(\s+[-a-zA-Z0-9-()]+)*$/,"Invalid Brand name")}),v=(0,G.TA)({enableReinitialize:!0,initialValues:{name:c},validationSchema:Z,onSubmit:function(e){f(!0),h(""==c?(0,B.l1)({name:e.name,setLoader:f,handleContractDeployment:w}):(0,B.Sw)({brandId:p,name:e.name,search:o,page:i,limit:d,handleClose:j,setBrandName:u,setLoader:f}))}}),j=function(){f(!1),t(!1),u(""),v.resetForm()},w=function(){var e=(0,K.Z)(q().mark((function e(){var n,t,a,r,s,l;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="KwikTrust "+v.values.name,console.log("contractNamecontractName",n),"0xBF09EE4E0F90EE3081Abe249f39a24b46298EFcf",t=new X.Q(window.ethereum),a=t.getSigner(),"KTX",r=new J.CH(te.L,ne.Mt,a),e.prev=7,e.next=10,r.deployMintingContract(n,"KTX","0xBF09EE4E0F90EE3081Abe249f39a24b46298EFcf");case 10:return e.next=12,e.sent.wait();case 12:s=e.sent,e.next=20;break;case 15:e.prev=15,e.t0=e.catch(7),console.log("error.reason",e.t0),"execution reverted: 0x01"==e.t0.reason?ae.Am.error("Unauthorized Admin"):ae.Am.error(e.t0.message),j();case 20:l=s.events[3].args[0],console.log(s.events[3].args[0]),h((0,B.Y2)({contractAddress:l,name:v.values.name,search:o,page:i,limit:d,handleClose:j,setBrandName:u}));case 23:case"end":return e.stop()}}),e,null,[[7,15]])})));return function(){return e.apply(this,arguments)}}();return(0,S.jsx)(S.Fragment,{children:(0,S.jsxs)(C.Z,{className:"responsiveDialog",open:n,TransitionComponent:re,keepMounted:!0,"aria-labelledby":"alert-dialog-slide-title1","aria-describedby":"alert-dialog-slide-description1",children:[(0,S.jsx)(T.Z,{id:"alert-dialog-slide-title1",children:""==c?"Add Brand":"Update Brand"}),(0,S.jsx)(k.Z,{children:(0,S.jsx)("form",{autoComplete:"off",onSubmit:v.handleSubmit,children:(0,S.jsx)(ee.Z,{sx:{marginTop:"25px"},id:"name",name:"name",label:"Enter Brand Name",value:v.values.name,onChange:v.handleChange,error:v.touched.name&&Boolean(v.errors.name),helperText:v.touched.name&&v.errors.name,fullWidth:!0,autoComplete:"given-name"})})}),(0,S.jsx)(M.Z,{sx:{pr:2.5},children:b?(0,S.jsx)(N.Z,{variant:"contained",size:"small",children:(0,S.jsx)($.iT,{ariaLabel:"loading-indicator",height:20,width:20,strokeWidth:5,strokeWidthSecondary:1,color:"blue",secondaryColor:"white"})}):(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(N.Z,{sx:{color:m.palette.error.dark,borderColor:m.palette.error.dark},onClick:function(){j()},color:"secondary",children:"cancel"}),(0,S.jsx)(N.Z,{variant:"contained",size:"small",onClick:function(){void 0==y?(j(),ae.Am.error("Connect Metamask")):v.handleSubmit()},children:""==c?"Add":"Update"})]})})]})})}var ie=t(23735),le=t(44260),de=function(){var e=(0,l.Z)(),n=(0,s.I0)(),t=(0,r.useState)(!1),d=(0,a.Z)(t,2),o=(d[0],d[1]),c=(0,s.v9)((function(e){return e.marketPlace.brandsList})),u=(0,r.useState)(""),p=(0,a.Z)(u,2),m=p[0],h=p[1],y=(0,r.useState)(1),x=(0,a.Z)(y,2),f=x[0],Z=x[1],v=(0,r.useState)(10),j=(0,a.Z)(v,2),C=j[0],T=j[1],k=(0,r.useState)(),w=(0,a.Z)(k,2),M=w[0],z=w[1],E=(0,r.useState)(""),R=(0,a.Z)(E,2),O=R[0],I=R[1],F=(0,r.useState)(!1),L=(0,a.Z)(F,2),K=L[0],W=L[1],q=(0,r.useState)(null),J=(0,a.Z)(q,2),X=J[0],G=J[1],Q=function(){G(null)};return(0,r.useEffect)((function(){n((0,B.dY)({search:m,page:f,limit:C}))}),[m,f,C]),(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(se,{brandId:M,setBrandId:z,brandName:O,setBrandName:I,page:f,limit:C,search:m,addUpdateOpen:K,setAddUpdateOpen:W}),(0,S.jsx)(le.Z,{title:"Brand Management"}),(0,S.jsx)(ie.Z,{title:(0,S.jsxs)(D.ZP,{container:!0,spacing:i.dv,children:[(0,S.jsx)(D.ZP,{item:!0,xs:6,children:(0,S.jsx)(P.Z,{id:"input-search-list-style1",placeholder:"Search",startAdornment:(0,S.jsx)(U.Z,{position:"start",children:(0,S.jsx)(V.jVj,{stroke:1.5,size:"1rem"})}),size:"small",onChange:function(e){h(e.target.value)},sx:{width:"271px"},className:"customOutlinedInput"})}),(0,S.jsx)(D.ZP,{item:!0,xs:6,textAlign:"end",children:(0,S.jsx)(N.Z,{variant:"contained",size:"small",onClick:function(){W(!0),I("")},children:"Add Brand"})})]}),content:!1,children:c&&c.brands&&c.brands.length>0?(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(_,{brandsList:c&&c,page:f,limit:C,search:m,setOpen:o,brandId:M,setBrandId:z,setBrandName:I,setAddUpdateOpen:W}),(0,S.jsx)(D.ZP,{item:!0,xs:12,sx:{p:3},children:(0,S.jsxs)(D.ZP,{container:!0,justifyContent:"space-between",spacing:i.dv,children:[(0,S.jsx)(D.ZP,{item:!0,children:(0,S.jsx)(Y.Z,{color:"primary",showFirstButton:!0,showLastButton:!0,page:f,count:c&&c.pages,onChange:function(e,n){Z(n)}})}),(0,S.jsxs)(D.ZP,{item:!0,children:[(0,S.jsxs)(N.Z,{size:"large",sx:{color:e.palette.grey[900]},color:"secondary",endIcon:(0,S.jsx)(H.Z,{}),onClick:function(e){G(e.currentTarget)},children:[C," Rows"]}),(0,S.jsxs)(g.Z,{id:"menu-user-list-style1",anchorEl:X,keepMounted:!0,open:Boolean(X),onClose:Q,variant:"selectedMenu",anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"bottom",horizontal:"right"},children:[(0,S.jsxs)(b.Z,{value:10,onClick:function(e){T(e.target.value),Z(1),Q()},children:[" ","10 Rows"]}),(0,S.jsxs)(b.Z,{value:25,onClick:function(e){T(e.target.value),Z(1),Q()},children:[" ","25 Rows"]}),(0,S.jsxs)(b.Z,{value:50,onClick:function(e){T(e.target.value),Z(1),Q()},children:[" ","50 Rows"," "]})]})]})]})})]}):(0,S.jsx)(S.Fragment,{children:(0,S.jsx)(D.ZP,{item:!0,children:(0,S.jsx)(A.Z,{style:{padding:"20px"},children:" No Data Available"})})})})]})}},70034:function(e,n,t){"use strict";var a=t(95318);n.Z=void 0;var r=a(t(45649)),s=t(80184),i=(0,r.default)((0,s.jsx)("path",{d:"M15 20H5V7c0-.55-.45-1-1-1s-1 .45-1 1v13c0 1.1.9 2 2 2h10c.55 0 1-.45 1-1s-.45-1-1-1zm5-4V4c0-1.1-.9-2-2-2H9c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h9c1.1 0 2-.9 2-2zm-2 0H9V4h9v12z"}),"ContentCopyRounded");n.Z=i},88471:function(e,n,t){"use strict";var a=t(95318);n.Z=void 0;var r=a(t(45649)),s=t(80184),i=(0,r.default)((0,s.jsx)("path",{d:"m14.06 9.02.92.92L5.92 19H5v-.92l9.06-9.06M17.66 3c-.25 0-.51.1-.7.29l-1.83 1.83 3.75 3.75 1.83-1.83c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.2-.2-.45-.29-.71-.29zm-3.6 3.19L3 17.25V21h3.75L17.81 9.94l-3.75-3.75z"}),"EditOutlined");n.Z=i},46601:function(){}}]);
//# sourceMappingURL=374.c4e5ac98.chunk.js.map