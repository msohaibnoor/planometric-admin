"use strict";(self.webpackChunkberry_material_react=self.webpackChunkberry_material_react||[]).push([[362],{26362:function(e,r,t){t.r(r),t.d(r,{default:function(){return w}});var n=t(15861),a=t(29439),o=t(87757),i=t.n(o),s=t(72791),l=t(74569),c=t.n(l),d=t(89731),u=t(61889),p=t(56689),h=t(24518),f=t(66934),m=t(80184),v=((0,f.ZP)((function(e){return{field:{"& .MuiFormLabel-root.Mui-disabled":{color:e.palette.text.secondary}},button:{width:"100%",height:"100%",overflow:"hidden"}}})),t(16030)),g=t(75985),w=function(){var e=(0,v.v9)((function(e){return e.auth.token})),r=(0,s.useState)(null),t=(0,a.Z)(r,2),o=t[0],l=t[1],f=(0,s.useState)(!1),w=(0,a.Z)(f,2),x=w[0],b=w[1],y=function(){var r=(0,n.Z)(i().mark((function r(){var t,n,a;return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(o&&"gh"===(null===o||void 0===o?void 0:o.name.split(".")[1])){r.next=3;break}return b(!0),r.abrupt("return");case 3:return r.prev=3,(t=new FormData).append("file",o),r.next=8,c().post("".concat(d.T,"admin/gh-upload"),t,{headers:{Authorization:"Bearer "+e}});case 8:n=r.sent,a=n.data,g.Am.success(a.data.message),l(null),r.next=17;break;case 14:r.prev=14,r.t0=r.catch(3),console.log(r.t0);case 17:case"end":return r.stop()}}),r,null,[[3,14]])})));return function(){return r.apply(this,arguments)}}(),k=function(){var r=(0,n.Z)(i().mark((function r(){var t,n,a,o;return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,c().get("".concat(d.T,"admin/files/download-grasshopper-script?fileToDownload=grasshopper"),{responseType:"arraybuffer",headers:{Authorization:"Bearer ".concat(e)}});case 3:t=r.sent,console.log(t.data),n=new Blob([t.data],{type:"application/octet-stream"}),a=window.URL.createObjectURL(n),(o=document.createElement("a")).style.display="none",o.href=a,o.download="Grasshopper-Script.gh",document.body.appendChild(o),o.click(),window.URL.revokeObjectURL(a),r.next=19;break;case 16:r.prev=16,r.t0=r.catch(0),console.error("Error downloading the .3dm file:",r.t0);case 19:case"end":return r.stop()}}),r,null,[[0,16]])})));return function(){return r.apply(this,arguments)}}();return(0,m.jsxs)(u.ZP,{display:"flex",justifyContent:"center",alignItems:"center",gap:"30px",children:[(0,m.jsxs)("form",{children:[(0,m.jsx)("h1",{children:"Update Grasshopper script"}),(0,m.jsx)(p.Z,{sx:{marginTop:"25px"},id:"walletAddress",name:"walletAddress",label:"Select script",type:"file",error:x,autoComplete:"given-name",focused:!0,onChange:function(e){var r,t;"gh"===(null===(r=e.currentTarget.files[0])||void 0===r||null===(t=r.name)||void 0===t?void 0:t.split(".")[1])&&(l(e.currentTarget.files[0]),b(!1))},helperText:"only .gh files allowed"}),(0,m.jsx)("div",{children:(0,m.jsx)(h.Z,{variant:"contained",size:"small",onClick:y,sx:{marginTop:"25px"},children:"Update"})})]}),(0,m.jsx)(h.Z,{variant:"contained",size:"large",onClick:k,children:"Download Current File"})]})}}}]);
//# sourceMappingURL=362.1175bf89.chunk.js.map