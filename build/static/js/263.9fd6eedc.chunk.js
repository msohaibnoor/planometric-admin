"use strict";(self.webpackChunkberry_material_react=self.webpackChunkberry_material_react||[]).push([[263],{13263:function(e,n,t){t.r(n);var r=t(15861),a=t(29439),l=t(87757),i=t.n(l),o=t(72791),s=t(74569),c=t.n(s),d=t(61889),u=t(56689),p=t(24518),f=t(16030),h=t(89731),m=t(75985),v=t(80184);n.default=function(){var e=(0,f.v9)((function(e){return e.auth.token})),n=(0,o.useState)(null),t=(0,a.Z)(n,2),l=t[0],s=t[1],x=(0,o.useState)(null),g=(0,a.Z)(x,2),w=g[0],j=g[1],y=(0,o.useState)(!1),k=(0,a.Z)(y,2),b=k[0],C=k[1],T=(0,o.useState)(!1),Z=(0,a.Z)(T,2),A=Z[0],S=Z[1],U=function(){var n=(0,r.Z)(i().mark((function n(){var t,r,a;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(l&&"rvt"===(null===l||void 0===l?void 0:l.name.split(".")[1])){n.next=3;break}return C(!0),n.abrupt("return");case 3:return n.prev=3,(t=new FormData).append("file",l),n.next=8,c().post("".concat(h.T,"/admin/revit-upload"),t,{headers:{Authorization:"Bearer "+e}});case 8:r=n.sent,a=r.data,m.Am.success(a.data.message),s(null),n.next=17;break;case 14:n.prev=14,n.t0=n.catch(3),console.log(n.t0);case 17:case"end":return n.stop()}}),n,null,[[3,14]])})));return function(){return n.apply(this,arguments)}}(),z=function(){var n=(0,r.Z)(i().mark((function n(){var t,r,a;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(console.log(),w&&"dwg"===(null===w||void 0===w?void 0:w.name.split(".")[1])){n.next=4;break}return S(!0),n.abrupt("return");case 4:return n.prev=4,(t=new FormData).append("file",w),n.next=9,c().post("".concat(h.T,"/admin/dwg-upload"),t,{headers:{Authorization:"Bearer "+e}});case 9:r=n.sent,a=r.data,m.Am.success(a.data.message),j(null),n.next=18;break;case 15:n.prev=15,n.t0=n.catch(4),console.log(n.t0);case 18:case"end":return n.stop()}}),n,null,[[4,15]])})));return function(){return n.apply(this,arguments)}}(),F=function(){var n=(0,r.Z)(i().mark((function n(t){var r,a,l,o,s,d,u,p,f,v;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,c().get("".concat(h.T,"/admin/files/download-grasshopper-script?fileToDownload=").concat(t),{responseType:"json",headers:{Authorization:"Bearer ".concat(e)}});case 3:for(l=n.sent,o=atob(null===l||void 0===l||null===(r=l.data)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.pdfFile),s=new Array(o.length),d=0;d<o.length;d++)s[d]=o.charCodeAt(d);u=new Uint8Array(s),p=new Blob([u],{type:"application/pdf"}),f=window.URL.createObjectURL(p),(v=document.createElement("a")).style.display="none",v.href=f,v.download=l.data.data.fileName,document.body.appendChild(v),v.click(),window.URL.revokeObjectURL(f),n.next=23;break;case 19:n.prev=19,n.t0=n.catch(0),m.Am.error("Couldn't find the file on server!"),console.error("Error downloading the .3dm file:",n.t0);case 23:case"end":return n.stop()}}),n,null,[[0,19]])})));return function(e){return n.apply(this,arguments)}}();return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)(d.ZP,{display:"flex",justifyContent:"center",alignItems:"center",gap:"30px",children:[(0,v.jsxs)("form",{children:[(0,v.jsx)("h1",{children:"Update Revit Sample file"}),(0,v.jsx)(u.Z,{sx:{marginTop:"25px"},id:"walletAddress",name:"walletAddress",label:"Select file",type:"file",autoComplete:"given-name",focused:!0,error:b,onChange:function(e){"rvt"===e.currentTarget.files[0].name.split(".")[1]&&(s(e.currentTarget.files[0]),C(!1))},helperText:"Only .rvt files allowed"}),(0,v.jsx)("div",{children:(0,v.jsx)(p.Z,{variant:"contained",size:"small",onClick:U,sx:{marginTop:"25px"},children:"Update"})})]}),(0,v.jsx)(p.Z,{variant:"contained",size:"large",onClick:function(){return F("revitSample")},children:"Download Current File"})]}),(0,v.jsxs)(d.ZP,{display:"flex",justifyContent:"center",alignItems:"center",gap:"30px",children:[(0,v.jsxs)("form",{children:[(0,v.jsx)("h1",{children:"Update (.dwg) Sample file"}),(0,v.jsx)(u.Z,{sx:{marginTop:"25px"},id:"walletAddress",name:"walletAddress",label:"Select file",type:"file",autoComplete:"given-name",focused:!0,error:A,onChange:function(e){"dwg"===e.currentTarget.files[0].name.split(".")[1]&&(j(e.currentTarget.files[0]),S(!1))},helperText:"Only .dwg files allowed"}),(0,v.jsx)("div",{children:(0,v.jsx)(p.Z,{variant:"contained",size:"small",onClick:z,sx:{marginTop:"25px"},children:"Update"})})]}),(0,v.jsx)(p.Z,{variant:"contained",size:"large",onClick:function(){return F("dwgSample")},children:"Download Current File"})]})]})}}}]);
//# sourceMappingURL=263.9fd6eedc.chunk.js.map