"use strict";(self.webpackChunkberry_material_react=self.webpackChunkberry_material_react||[]).push([[392],{44260:function(e,t,i){var n=i(57621),a=i(64554),l=i(61889),r=i(20890),s=i(56689),o=i(23786),c=i(13967),d=i(72791),u=i(91923),h=i(80184),x=(0,d.forwardRef)((function(e){var t=e.title,i=e.role,d=e.value,x=e.setValue,m=e.options,p=e.marginTop,g=(0,c.Z)();return(0,h.jsx)(n.Z,{sx:{marginBottom:g.spacing(u.dv),border:"1px solid",borderColor:g.palette.primary[200]+75,background:g.palette.background.default,marginTop:null!==p&&void 0!==p?p:"0px"},children:(0,h.jsx)(a.Z,{sx:{p:2,pl:2},children:(0,h.jsxs)(l.ZP,{container:!0,alignItems:"center",justifyContent:"space-between",spacing:u.dv,children:[(0,h.jsx)(l.ZP,{item:!0,children:(0,h.jsx)(r.Z,{variant:"h3",sx:{fontWeight:500,color:"cadetblue"},children:t})}),void 0!==d&&(0,h.jsx)(l.ZP,{item:!0,children:m&&("teacher"==i||"super_admin"==i)&&(0,h.jsx)(s.Z,{id:"standard-select-currency",select:!0,value:d,onChange:function(e){return x(e.target.value)},sx:{width:"150px",height:"44px"},children:m.map((function(e){return(0,h.jsx)(o.Z,{value:e.value,children:e.label},e.value)}))})})]})})})}));t.Z=x},82392:function(e,t,i){i.r(t),i.d(t,{default:function(){return V}});var n=i(29439),a=i(72791),l=i(16030),r=i(13967),s=i(61889),o=i(20890),c=i(16871),d=i(39281),u=i(79836),h=i(56890),x=i(35855),m=i(53994),p=i(53382),g=i(13400),Z=i(80911),j=i(23786),f=i(52601),v=i(52898),b=i(1413),k=i(55931),y=i(5574),C=i(35201),I=i(39157),S=i(51691),T=i(97123),N=i(24518),D=i(63053),q=i(80184),F=(0,a.forwardRef)((function(e,t){return(0,q.jsx)(k.Z,(0,b.Z)({direction:"up",ref:t},e))}));function U(e){var t=e.open,i=e.setOpen,n=e.testimonialId,a=e.page,s=e.limit,c=e.search,d=e.type,u=(0,r.Z)(),h=(0,l.I0)(),x=function(){i(!1)};return(0,q.jsx)(q.Fragment,{children:(0,q.jsxs)(y.Z,{open:t,TransitionComponent:F,keepMounted:!0,onClose:x,"aria-labelledby":"alert-dialog-slide-title1","aria-describedby":"alert-dialog-slide-description1",children:[(0,q.jsx)(C.Z,{id:"alert-dialog-slide-title1",children:"Delete municipality request"}),(0,q.jsx)(I.Z,{children:(0,q.jsx)(S.Z,{id:"alert-dialog-slide-description1",children:(0,q.jsx)(o.Z,{variant:"body2",component:"span",children:"Are you sure you want to delete this request?"})})}),(0,q.jsxs)(T.Z,{sx:{pr:2.5},children:[(0,q.jsx)(N.Z,{sx:{color:u.palette.error.dark,borderColor:u.palette.error.dark},onClick:x,color:"secondary",children:"No"}),(0,q.jsx)(N.Z,{variant:"contained",size:"small",onClick:function(){h((0,D.Jl)({id:n,handleClose:x,page:a,limit:s,search:c,type:d}))},children:"Yes"})]})]})})}var w=i(92506),z=i(81724),_=i(745),E=i(56689),O=i(89303),R=i(81513),B=(i(75985),i(5462),(0,a.forwardRef)((function(e,t){return(0,q.jsx)(k.Z,(0,b.Z)({direction:"up",ref:t},e))})));function M(e){var t=e.openFeedback,i=e.setOpenFeedback,s=e.page,c=e.limit,d=e.search,u=e.testimonialId,h=e.testimonial,x=(e.setTestimonialId,e.feedbackText),m=(0,r.Z)(),p=(0,l.I0)(),g=(0,a.useState)(!1),Z=(0,n.Z)(g,2),j=Z[0],f=Z[1],v=z.Ry({feedbackText:z.Z_().required("Feedback text is required!"),clientName:z.Z_().required("Name is required!").max(50,"Name can not exceed 50 characters"),clientImageUrl:z.Z_().required("Image url is required!"),clientDesignation:z.Z_().required("Designation is required!").max(200,"Designation can not exceed 50 characters")}),b=(0,w.TA)({enableReinitialize:!0,initialValues:{feedbackText:null===h||void 0===h?void 0:h.feedbackText,clientName:null===h||void 0===h?void 0:h.clientName,clientDesignation:null===h||void 0===h?void 0:h.clientDesignation,clientImageUrl:null===h||void 0===h?void 0:h.clientImageUrl},validationSchema:v,onSubmit:function(e){f(!0),h||p((0,R.ZS)({feedbackText:e.feedbackText,clientDesignation:e.clientDesignation,clientName:e.clientName,clientImageUrl:e.clientImageUrl,search:d,page:s,limit:c,handleClose:k,setLoader:f})),p((0,R.fN)({id:u,feedbackText:e.feedbackText,clientDesignation:e.clientDesignation,clientName:e.clientName,clientImageUrl:e.clientImageUrl,search:d,page:s,limit:c,handleClose:k,setLoader:f}))}}),k=function(){f(!1),i(!1),b.resetForm()};return(0,q.jsx)(q.Fragment,{children:(0,q.jsxs)(y.Z,{className:"responsiveDialog",open:t,TransitionComponent:B,keepMounted:!0,"aria-labelledby":"alert-dialog-slide-title1","aria-describedby":"alert-dialog-slide-description1",children:[(0,q.jsx)(C.Z,{id:"alert-dialog-slide-title1",children:""==x?"Add Feedback":"Update Feedback"}),(0,q.jsx)(I.Z,{children:(0,q.jsxs)("form",{autoComplete:"off",onSubmit:b.handleSubmit,children:[(0,q.jsx)(E.Z,{sx:{marginTop:"25px"},id:"clientName",name:"clientName",label:"Enter name",value:b.values.clientName,onChange:b.handleChange,error:b.touched.clientName&&Boolean(b.errors.clientName),helperText:b.touched.clientName&&b.errors.clientName,fullWidth:!0,autoComplete:"given-name",focused:null!==h&&void 0!==h&&h,style:{width:"100%",resize:"vertical"}}),(0,q.jsx)(E.Z,{sx:{marginTop:"25px"},id:"clientDesignation",name:"clientDesignation",label:"Enter designation",value:b.values.clientDesignation,onChange:b.handleChange,error:b.touched.clientDesignation&&Boolean(b.errors.clientDesignation),helperText:b.touched.clientDesignation&&b.errors.clientDesignation,fullWidth:!0,autoComplete:"given-name",focused:null!==h&&void 0!==h&&h,style:{width:"100%",resize:"vertical"}}),(0,q.jsx)(E.Z,{sx:{marginTop:"25px"},id:"clientImageUrl",name:"clientImageUrl",label:"Enter image URL",value:b.values.clientImageUrl,onChange:b.handleChange,error:b.touched.clientImageUrl&&Boolean(b.errors.clientImageUrl),helperText:b.touched.clientImageUrl&&b.errors.clientImageUrl,fullWidth:!0,autoComplete:"given-name",focused:null!==h&&void 0!==h&&h,style:{width:"100%",resize:"vertical"}}),(0,q.jsx)(o.Z,{sx:{margin:"10px 0px"},variant:"h5",gutterBottom:!0,children:"Enter Feedback Text"}),(0,q.jsx)(O.Z,{id:"feedbackText",name:"feedbackText",label:"Enter feedback","aria-label":"text area",placeholder:"Start typing here...",value:b.values.feedbackText,onChange:b.handleChange,style:{width:"100%",resize:"vertical",marginBottom:"10px",border:"2px solid #2196f3",borderRadius:"10px",padding:"10px"}})]})}),(0,q.jsx)(T.Z,{sx:{pr:2.5},children:j?(0,q.jsx)(N.Z,{variant:"contained",size:"small",children:(0,q.jsx)(_.iT,{ariaLabel:"loading-indicator",height:20,width:20,strokeWidth:5,strokeWidthSecondary:1,color:"blue",secondaryColor:"white"})}):(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(N.Z,{sx:{color:m.palette.error.dark,borderColor:m.palette.error.dark},onClick:function(){k()},color:"secondary",children:"cancel"}),(0,q.jsx)(N.Z,{variant:"contained",size:"small",onClick:b.handleSubmit,children:""==x?"Add":"Update"})]})})]})})}i(72426);var P=function(e){var t=e.testimonialsList,i=e.page,s=e.limit,o=e.search,b=e.type,k=(0,r.Z)(),y=((0,l.I0)(),(0,c.s0)(),(0,a.useState)(!1)),C=(0,n.Z)(y,2),I=C[0],S=C[1],T=(0,a.useState)(!1),N=(0,n.Z)(T,2),D=N[0],F=N[1],w=(0,a.useState)(!1),z=(0,n.Z)(w,2),_=(z[0],z[1],(0,a.useState)(null)),E=(0,n.Z)(_,2),O=E[0],R=E[1],B=(0,a.useState)(null),P=(0,n.Z)(B,2),A=P[0],L=P[1],W=(0,a.useState)(null),V=(0,n.Z)(W,2),J=V[0],Y=V[1],G=(0,a.useState)(null),H=(0,n.Z)(G,2),K=H[0],Q=H[1],X=function(){Y(null)};return console.log({testimonialId:O}),(0,q.jsxs)(d.Z,{children:[(0,q.jsx)(M,{setOpenFeedback:F,openFeedback:D,testimonialId:O,testimonial:A,page:i,limit:s,search:o,type:b}),(0,q.jsx)(U,{setOpen:S,open:I,testimonialId:O,page:i,limit:s,search:o,type:b}),(0,q.jsxs)(u.Z,{children:[(0,q.jsx)(h.Z,{children:(0,q.jsxs)(x.Z,{children:[(0,q.jsx)(m.Z,{sx:{pl:3},children:"Requested Municipality"}),(0,q.jsx)(m.Z,{children:"Email"}),(0,q.jsx)(m.Z,{align:"center",sx:{pr:3},children:"Actions"})]})}),(0,q.jsx)(p.Z,{children:t&&t.requests&&t.requests.length>0&&t.requests.map((function(e,t){return(0,q.jsx)(q.Fragment,{children:(0,q.jsxs)(x.Z,{hover:!0,children:[(0,q.jsx)(m.Z,{children:null===e||void 0===e?void 0:e.municipality}),(0,q.jsx)(m.Z,{children:null===e||void 0===e?void 0:e.email}),(0,q.jsxs)(m.Z,{align:"center",sx:{pr:3},children:[(0,q.jsx)(g.Z,{children:(0,q.jsx)(v.Z,{fontSize:"large",color:"black","aria-controls":"menu-friend-card","aria-haspopup":"true",sx:{opacity:1.6},onClick:function(t){return function(e,t){Q(t),Y(e.currentTarget)}(t,e)}})}),(0,q.jsx)(Z.Z,{id:"menu-simple-card",anchorEl:J,keepMounted:!0,open:Boolean(J),onClose:X,variant:"selectedMenu",anchorOrigin:{vertical:"left",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"right"},sx:{padding:"0px 8px",boxShadow:"none"},className:"customMenuClass",children:(0,q.jsx)(j.Z,{onClick:function(){S(!0),R(K.id),L(K),X()},children:(0,q.jsxs)("div",{className:"actionItem",children:[(0,q.jsx)(g.Z,{color:"primary",sx:{color:k.palette.orange.dark,borderColor:k.palette.orange.main,"&:hover ":{background:k.palette.orange.light},padding:"0px"},size:"large",children:(0,q.jsx)(f.Z,{sx:{fontSize:"1.5rem"}})}),(0,q.jsx)("p",{children:"Delete"})]})})})]})]},e.id)})}))})]})]})},A=i(23735),L=i(44260),W=i(91923);var V=function(){(0,r.Z)();var e=(0,l.I0)(),t=(0,l.v9)((function(e){return e.requests.requests})),i=(0,a.useState)(!1),c=(0,n.Z)(i,2),d=c[0],u=c[1],h=(0,a.useState)(!1),x=(0,n.Z)(h,2),m=x[0],p=x[1],g=(0,a.useState)(null),Z=(0,n.Z)(g,2),j=Z[0],f=Z[1],v=(0,a.useState)(""),b=(0,n.Z)(v,2),k=b[0],y=(b[1],(0,a.useState)(!1)),C=(0,n.Z)(y,2),I=(C[0],C[1],(0,a.useState)("")),S=(0,n.Z)(I,2),T=S[0],N=(S[1],(0,a.useState)(1)),F=(0,n.Z)(N,2),U=F[0],w=(F[1],(0,a.useState)(10)),z=(0,n.Z)(w,2),_=z[0],E=(z[1],(0,a.useState)("all")),O=(0,n.Z)(E,2),R=O[0],B=(O[1],(0,a.useState)(null)),V=(0,n.Z)(B,2);V[0],V[1];return(0,a.useEffect)((function(){e((0,D.mD)({search:T,page:U,limit:_,type:R}))}),[T,U,_,R]),(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(M,{testimonialId:j,setTestimonialId:f,feedbackText:k,page:U,limit:_,search:T,openFeedback:m,setOpenFeedback:p}),(0,q.jsx)(L.Z,{title:"Municipality requests"}),(0,q.jsx)(A.Z,{title:(0,q.jsxs)(s.ZP,{container:!0,alignItems:"center",justifyContent:"space-between",spacing:W.dv,children:[(0,q.jsx)(s.ZP,{item:!0,xs:3}),(0,q.jsx)(s.ZP,{item:!0,xs:3})]}),content:!1,children:t&&t.requests&&t.requests.length>0?(0,q.jsx)(q.Fragment,{children:(0,q.jsx)(P,{testimonialsList:t&&t,page:U,limit:_,search:T,type:R,open:d,setOpen:u})}):(0,q.jsx)(q.Fragment,{children:(0,q.jsx)(s.ZP,{item:!0,children:(0,q.jsx)(o.Z,{style:{padding:"20px"},children:" No Data Available"})})})})]})}}}]);
//# sourceMappingURL=392.56af437b.chunk.js.map